(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{141:function(n,e,t){"use strict";t.r(e);t(93);var r=t(0),a=t.n(r),o=t(64),c=t.n(o),i=t(77),u=t.n(i),l=t(2),s=(t(98),t(3)),f=t(7),m=t(21);function d(){var n=Object(l.a)(["\n      font-size: 14px;\n    "]);return d=function(){return n},n}function h(){var n=Object(l.a)(["\n      font-size: 16px;\n    "]);return h=function(){return n},n}function b(){var n=Object(l.a)(["\n  html {\n    font-size: 18px;\n\n    ","\n\n    ","\n  }\n\n  body {\n    background-color: ",";\n    color: ",";\n    font-weight: 300;\n    height: 100vh;\n    line-height: 1.4;\n    overflow-y: hidden;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  input,\n  textarea {\n    font-weight: inherit;\n  }\n\n  #root {\n    height: 100%;\n    width: 100%;\n  }\n"]);return b=function(){return n},n}Object(s.c)(b(),Object(m.c)(Object(s.a)(h())),Object(m.b)(Object(s.a)(d())),f.b,f.j);var p=t(29),g=t(19),v=t.n(g),w=t(43),j=t(387),O=t(394),E=t(325),y=t(326),k=t(22),x=t(38),P=t(39),U=t(41),C=t(40),S=t(42);function I(){var n=Object(l.a)(["\n    height: 3rem;\n    padding-left: 1rem;\n  "]);return I=function(){return n},n}function L(){var n=Object(l.a)(["\n  align-items: center;\n  background: none;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  display: flex;\n  font-weight: inherit;\n  height: 2.5rem;\n  justify-content: center;\n  line-height: inherit;\n  padding: 0;\n  transition: color 0.2s ease;\n  white-space: nowrap;\n  width: 100%;\n\n  &:hover {\n    color: ",";\n  }\n\n  ",";\n"]);return L=function(){return n},n}var R=s.b.button(L(),f.k,Object(m.b)(Object(s.a)(I()))),A=function(){return a.a.createElement(E.a,null,function(n){var e=n.history;return a.a.createElement(R,{onClick:function(){return function(n){p.a.logOut(),n.push("/")}(e)}},"Log out")})};function z(){var n=Object(l.a)(["\n    display: none;\n  "]);return z=function(){return n},n}function F(){var n=Object(l.a)(["\n  margin: 0.2rem 0.1rem;\n  border-bottom: 1px solid ",";\n\n  ",";\n"]);return F=function(){return n},n}function M(){var n=Object(l.a)(["\n    height: 3rem;\n    padding: 0 1rem;\n  "]);return M=function(){return n},n}function _(){var n=Object(l.a)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  height: 2.5rem;\n  color: ",";\n  text-decoration: none;\n  transition: color 0.2s ease;\n\n  &:hover {\n    color: ",";\n  }\n\n  ",";\n"]);return _=function(){return n},n}function N(){var n=Object(l.a)(["\n    align-items: center;\n    background-color: ",";\n    flex-direction: row;\n    justify-content: flex-end;\n    left: 0;\n    padding-right: 2rem;\n    right: 0;\n    top: 3rem;\n    width: 100%;\n  "]);return N=function(){return n},n}function T(){var n=Object(l.a)(["\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  font-size: 1rem;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  right: 0;\n  top: 2rem;\n  width: 10rem;\n  z-index: 100;\n\n  ",";\n"]);return T=function(){return n},n}function D(){var n=Object(l.a)(["\n  color: ",";\n  cursor: pointer;\n  margin-left: 1em;\n  text-transform: uppercase;\n"]);return D=function(){return n},n}function V(){var n=Object(l.a)(["\n    position: static;\n  "]);return V=function(){return n},n}function q(){var n=Object(l.a)(["\n  position: relative;\n\n  ",";\n"]);return q=function(){return n},n}var Q=s.b.div(q(),Object(m.b)(Object(s.a)(V()))),W=s.b.div(D(),f.k),J=s.b.ul(T(),f.a,Object(m.b)(Object(s.a)(N(),f.c))),B=Object(s.b)(y.a)(_(),f.j,f.k,Object(m.b)(Object(s.a)(M()))),$=s.b.li(F(),f.b,Object(m.b)(Object(s.a)(z()))),G=function(n){function e(){var n,t;Object(x.a)(this,e);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=Object(U.a)(this,(n=Object(C.a)(e)).call.apply(n,[this].concat(o)))).state={showMenu:!1},t.userRef=a.a.createRef(),t.handleClick=function(n){t.userRef.current.contains(n.target)||t.setState({showMenu:!1})},t.handleUserClick=function(){t.setState(function(n){return{showMenu:!n.showMenu}})},t}return Object(S.a)(e,n),Object(P.a)(e,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var n=this,e=this.state.showMenu;return a.a.createElement(k.a,null,function(t){var r=t.currentUser;return a.a.createElement(Q,null,a.a.createElement(W,{innerRef:n.userRef,onClick:n.handleUserClick,to:"/".concat(r.toLowerCase())},r),e&&a.a.createElement(J,null,a.a.createElement("li",null,a.a.createElement(B,{to:"/".concat(r.toLowerCase())},"Profile")),a.a.createElement("li",null,a.a.createElement(B,{to:"/warriors"},"Warriors")),a.a.createElement($,null),a.a.createElement("li",null,a.a.createElement(B,{to:"/settings"},"Settings")),a.a.createElement("li",null,a.a.createElement(A,null))))})}}]),e}(a.a.Component),K=t(75),X=t.n(K);function Z(){var n=Object(l.a)(["\n  color: ",";\n  margin-left: 1em;\n  text-decoration: none;\n  text-transform: uppercase;\n  transition: color 0.2s ease;\n\n  &:hover {\n    color: ",";\n  }\n"]);return Z=function(){return n},n}function H(){var n=Object(l.a)(["\n  color: ",";\n"]);return H=function(){return n},n}function Y(){var n=Object(l.a)(["\n  color: ",";\n  margin-left: 1em;\n  text-decoration: none;\n  text-transform: uppercase;\n  transition: color 0.2s ease;\n\n  &:hover {\n    color: ",";\n  }\n"]);return Y=function(){return n},n}function nn(){var n=Object(l.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n"]);return nn=function(){return n},n}function en(){var n=Object(l.a)(["\n  height: 1.5rem;\n  vertical-align: middle;\n  width: 4.5rem;\n"]);return en=function(){return n},n}function tn(){var n=Object(l.a)(["\n  align-items: center;\n  background-color: ",";\n  display: flex;\n  font-size: 0.8rem;\n  height: 3rem;\n  padding: 0 2rem;\n"]);return tn=function(){return n},n}var rn=s.b.header(tn(),f.a),an=s.b.img(en()),on=s.b.nav(nn()),cn=Object(s.b)(y.a)(Y(),f.j,f.k),un=Object(s.b)(cn)(H(),f.k),ln=s.b.a(Z(),f.j,f.k),sn=function(){return a.a.createElement(rn,null,a.a.createElement(y.a,{to:"/"},a.a.createElement(an,{src:X.a,alt:"The WarriorJS icon: a sword made of ASCII characters."})),a.a.createElement(on,null,a.a.createElement(ln,{href:"https://warriorjs.typeform.com/to/XhbZTR",rel:"noopener noreferrer",target:"_blank"},"Feedback"),a.a.createElement(k.a,null,function(n){return n.authed?a.a.createElement(G,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(cn,{to:"/login"},"Login"),a.a.createElement(E.a,{path:"/warriors/:warriorId"},function(n){var e=n.match,t="/signup";return e&&"new"!==e.params.warriorId&&(t+="?warriorId=".concat(e.params.warriorId)),a.a.createElement(un,{to:t},"Sign Up")}))})))};function fn(){var n=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  min-height: 0;\n  width: 100%;\n"]);return fn=function(){return n},n}function mn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n"]);return mn=function(){return n},n}var dn=s.b.div(mn()),hn=s.b.main(fn()),bn=function(n){var e=n.children;return a.a.createElement(dn,null,a.a.createElement(sn,null),a.a.createElement("div",{id:"notification-bar-root"}),a.a.createElement(hn,null,e))},pn=t(17),gn=t(34),vn=t.n(gn),wn=t(392),jn=function(n){function e(){var n,t;Object(x.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(U.a)(this,(n=Object(C.a)(e)).call.apply(n,[this].concat(a)))).trackPage=function(){var n=t.props.location,e=n.pathname+n.search;vn.a.set({page:e}),vn.a.pageview(e)},t}return Object(S.a)(e,n),Object(P.a)(e,[{key:"componentDidMount",value:function(){this.trackPage()}},{key:"componentDidUpdate",value:function(n){this.props.location.pathname!==n.location.pathname&&this.trackPage()}},{key:"render",value:function(){return null}}]),e}(a.a.Component),On=Object(wn.a)(jn),En=t(47),yn=t(389),kn=function(n){var e=n.component,t=Object(En.a)(n,["component"]);return a.a.createElement(E.a,Object.assign({},t,{render:function(n){return a.a.createElement(k.a,null,function(t){return t.authed?a.a.createElement(e,n):a.a.createElement(yn.a,{to:"/login"})})}}))},xn=function(n){var e=n.component,t=Object(En.a)(n,["component"]);return a.a.createElement(E.a,Object.assign({},t,{render:function(n){return a.a.createElement(k.a,null,function(t){return t.authed?a.a.createElement(yn.a,{to:"/warriors"}):a.a.createElement(e,n)})}}))},Pn=v()({loader:function(){return Promise.all([t.e(0),t.e(1),t.e(4)]).then(t.bind(null,382))},loading:pn.a}),Un=v()({loader:function(){return Promise.all([t.e(0),t.e(1),t.e(5)]).then(t.bind(null,327))},loading:pn.a}),Cn=v()({loader:function(){return t.e(6).then(t.bind(null,395))},loading:pn.a}),Sn=v()({loader:function(){return t.e(7).then(t.bind(null,396))},loading:pn.a}),In=v()({loader:function(){return t.e(8).then(t.bind(null,397))},loading:pn.a}),Ln=v()({loader:function(){return t.e(9).then(t.bind(null,384))},loading:pn.a}),Rn=v()({loader:function(){return t.e(10).then(t.bind(null,380))},loading:pn.a}),An=v()({loader:function(){return Promise.all([t.e(0),t.e(69),t.e(11)]).then(t.bind(null,391))},loading:pn.a}),zn=v()({loader:function(){return t.e(12).then(t.bind(null,390))},loading:pn.a}),Fn=v()({loader:function(){return Promise.all([t.e(0),t.e(1),t.e(13)]).then(t.bind(null,328))},loading:pn.a}),Mn=v()({loader:function(){return t.e(14).then(t.bind(null,193))},loading:pn.a}),_n=function(n){var e=n.apolloClient;return a.a.createElement(w.ApolloProvider,{client:e},a.a.createElement(j.a,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(bn,null,a.a.createElement(O.a,null,a.a.createElement(E.a,{exact:!0,path:"/",component:Pn}),a.a.createElement(E.a,{exact:!0,path:"/leaderboard",component:Un}),a.a.createElement(xn,{path:"/login",component:Cn}),a.a.createElement(xn,{path:"/signup",component:Sn}),a.a.createElement(xn,{path:"/resetpassword",component:In}),a.a.createElement(kn,{path:"/settings",component:Ln}),a.a.createElement(kn,{exact:!0,path:"/warriors",component:zn}),a.a.createElement(E.a,{path:"/warriors/new",component:Rn}),a.a.createElement(E.a,{path:"/warriors/:warriorId",component:An}),a.a.createElement(E.a,{path:"/:username",component:Fn}),a.a.createElement(E.a,{component:Mn}))),a.a.createElement(On,null))))},Nn=t(37);u.a.init(),vn.a.initialize("UA-118632697-2"),c.a.render(a.a.createElement(_n,{apolloClient:Nn.a}),document.getElementById("root")),p.a.syncAuthState()},17:function(n,e,t){"use strict";var r=t(2),a=t(0),o=t.n(a),c=t(3),i=t(60),u=t(76),l=t(7);function s(){var n=Object(r.a)(["\n  height: unset;\n  width: unset;\n"]);return s=function(){return n},n}function f(){var n=Object(r.a)(["\n  color: ",";\n"]);return f=function(){return n},n}function m(){var n=Object(r.a)(["\n  text-align: center;\n"]);return m=function(){return n},n}function d(){var n=Object(r.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: center;\n  width: 100%;\n"]);return d=function(){return n},n}var h=c.b.div(d()),b=c.b.p(m()),p=Object(c.b)(b)(f(),l.e),g=Object(c.b)(i.a)(s()),v=function(n){var e=n.error,t=n.pastDelay,r=n.retry,a=n.timedOut;return e?o.a.createElement(h,null,o.a.createElement(p,null,"Oops! Something went wrong..."),r&&o.a.createElement(g,{onClick:r},"Retry")):a?o.a.createElement(h,null,o.a.createElement(b,null,"Taking a long time..."),r&&o.a.createElement(g,{onClick:r},"Retry")):t?o.a.createElement(h,null,o.a.createElement(u.a,null)):null};v.defaultProps={pastDelay:!0,timedOut:!1},e.a=v},21:function(n,e,t){"use strict";t.d(e,"a",function(){return i}),t.d(e,"c",function(){return u}),t.d(e,"b",function(){return l});var r=t(2),a=t(3);function o(){var n=Object(r.a)(["\n  @media "," {\n    ",";\n  }\n"]);return o=function(){return n},n}function c(){var n=Object(r.a)(["\n  @media "," {\n    ",";\n  }\n"]);return c=function(){return n},n}var i="(max-width: 60em)",u=function(n){return Object(a.a)(c(),i,n)},l=function(n){return Object(a.a)(o(),"(max-width: 25em)",n)}},22:function(n,e,t){"use strict";var r=t(0),a=t.n(r),o=t(43),c=t(74);e.a=function(n){var e=n.children;return a.a.createElement(o.Query,{query:c.a},function(n){var t=n.data.currentUser;return e({currentUser:t,authed:!!t})})}},29:function(n,e,t){"use strict";var r=t(16),a=t.n(r),o=t(25),c=t(24),i=t(37),u=new c.d({UserPoolId:"us-east-1_1bdFntIPI",ClientId:"561heii92kigtdi8tm0qd040s7"});function l(n){return new c.b({Username:n,Pool:u})}function s(n){return n.replace(/^(?:PreSignUp|PostConfirmation) failed with error (.+)\.$/,"$1")}var f={sub:"id",email:"email","custom:country":"country"};var m={signUp:function(n,e,t,r,a){var o=[new c.c({Name:"email",Value:t}),new c.c({Name:"preferred_username",Value:n.toLowerCase()})];return r&&o.push(new c.c({Name:"custom:country",Value:r})),a&&o.push(new c.c({Name:"custom:warrior_id",Value:a})),new Promise(function(t,r){u.signUp(n,e,o,null,function(n,e){if(n)return r(new Error(s(n.message)));t(e.user)})})},confirmSignUp:function(n,e){var t=l(n);return new Promise(function(n,r){t.confirmRegistration(e,!1,function(e,t){if(e)return r(new Error(s(e.message)));n(t)})})},resetPassword:function(n){var e=l(n);return new Promise(function(n,t){e.forgotPassword({onSuccess:function(){var e=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onFailure:function(n){"UserNotFoundException"===n.code&&t(new Error("There is no user with that username/email")),t(new Error("Oops! Something went wrong..."))}})})},confirmPassword:function(n,e,t){var r=l(n);return new Promise(function(n,c){r.confirmPassword(t,e,{onSuccess:function(){var e=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onFailure:function(n){"CodeMismatchException"===n.code&&c(new Error("Invalid confirmation code")),c(new Error("Oops! Something went wrong..."))}})})},logIn:function(n,e){var t=l(n),r=new c.a({Username:n,Password:e});return new Promise(function(n,e){t.authenticateUser(r,{onSuccess:function(){var e=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.syncAuthState();case 2:n(t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onFailure:function(){e(new Error("Incorrect email or password."))}})})},logOut:function(){var n=u.getCurrentUser();n&&(n.signOut(),i.a.resetStore())},getCurrentUser:function(){var n=u.getCurrentUser();if(!n)return Promise.resolve(null);var e=n.getUsername();return new Promise(function(t,r){n.getSession(function(a){if(a)return r(a);n.getUserAttributes(function(n,a){if(n)return r(n);t(function(n,e){var t={username:n};return e.reduce(function(n,e){var t=e.getName();if(Object.prototype.hasOwnProperty.call(f,t)){var r=f[t],a=e.getValue();n[r]=a}return n},t),t}(e,a))})})})},changePassword:function(n,e){var t=u.getCurrentUser();return t?new Promise(function(r,a){t.getSession(function(o){if(o)return a(o);t.changePassword(n,e,function(n,e){if(n)return a(n);r(e)})})}):Promise.resolve()},getSession:function(){var n=u.getCurrentUser();return n?new Promise(function(e,t){n.getSession(function(r,a){if(r)return t(r);if(a.isValid())return e(a);var o=a.getRefreshToken();n.refreshSession(o,function(n,r){if(n)return t(n);e(r)})})}):Promise.resolve()},syncAuthState:function(){var n=Object(o.a)(a.a.mark(function n(){var e;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.getSession();case 2:n.sent&&(e=u.getCurrentUser().getUsername(),i.a.writeData({data:{currentUser:e}}));case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}()};e.a=m},37:function(n,e,t){"use strict";var r=t(178),a=t(5),o=t(16),c=t.n(o),i=t(67),u=t(25),l=t(82),s=t(29),f=Object(l.a)(function(){var n=Object(u.a)(c.a.mark(function n(e,t){var r,a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.headers,n.next=3,s.a.getSession();case 3:if(!(a=n.sent)){n.next=6;break}return n.abrupt("return",{headers:Object(i.a)({},r,{Authorization:"Bearer ".concat(a.idToken.jwtToken)}),uri:"https://api.warriorjs.com/graphql/authed"});case 6:case"end":return n.stop()}},n,this)}));return function(e,t){return n.apply(this,arguments)}}()),m=t(377),d=new m.a({cacheRedirects:{Query:{warrior:function(n,e,t){var r=e.id;return(0,t.getCacheKey)({__typename:"Warrior",id:r})}}},dataIdFromObject:function(n){switch(n.__typename){case"Level":return"Level:".concat(n.warrior.id,"-").concat(n.number);case"User":return"User:".concat(n.username);default:return Object(m.b)(n)}}}),h=t(84),b=Object(h.a)(function(n){var e=n.graphQLErrors,t=n.networkError;e&&e.map(function(n){var e=n.message,t=n.locations,r=n.path;return console.log("[GraphQL error]: Message: ".concat(e,", Location: ").concat(t,", Path: ").concat(r))}),t&&console.log("[Network error]: ".concat(t))}),p=new(t(89).a)({uri:"https://api.warriorjs.com/graphql"}),g=t(90),v=Object(g.a)({cache:d,defaults:{currentUser:null},resolvers:{Query:function(){return{}}}}),w=new r.a({cache:d,link:a.a.from([b,f,v,p])});e.a=w},60:function(n,e,t){"use strict";var r=t(2),a=t(3),o=t(7);function c(){var n=Object(r.a)(["\n  background-color: ",";\n  border-radius: 3px;\n  border: 1px solid ",";\n  color: ",";\n  cursor: pointer;\n  font-size: 0.8rem;\n  height: 2.5rem;\n  line-height: inherit;\n  outline: none;\n  text-transform: uppercase;\n  transition: background 0.2s ease, color 0.2s ease;\n  width: 100%;\n\n  &:disabled {\n    opacity: 0.4;\n  }\n\n  &:hover:enabled {\n    background-color: ",";\n    color: ",";\n  }\n"]);return c=function(){return n},n}var i=a.b.button(c(),o.j,o.j,o.b,o.b,o.j);e.a=i},7:function(n,e,t){"use strict";t.d(e,"a",function(){return r}),t.d(e,"b",function(){return a}),t.d(e,"c",function(){return o}),t.d(e,"h",function(){return c}),t.d(e,"i",function(){return i}),t.d(e,"j",function(){return u}),t.d(e,"k",function(){return l}),t.d(e,"d",function(){return s}),t.d(e,"e",function(){return f}),t.d(e,"f",function(){return m}),t.d(e,"g",function(){return d});var r="#20232a",a="#2e3440",o="#3b4252",c="#434c5e",i="#4c566a",u="#d8dee9",l="#8fbcbb",s="#5e81ac",f="#bf616a",m="#ebcb8b",d="#a3be8c"},74:function(n,e,t){"use strict";var r=t(2),a=t(58);function o(){var n=Object(r.a)(["\n  query CurrentUser {\n    currentUser @client\n  }\n"]);return o=function(){return n},n}var c=t.n(a)()(o());e.a=c},75:function(n,e,t){n.exports=t.p+"static/media/icon.7058c8cd.svg"},76:function(n,e,t){"use strict";var r=t(2),a=t(0),o=t.n(a),c=t(3),i=t(7);function u(){var n=Object(r.a)(["\n  animation-delay: -0.16s;\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  animation-delay: -0.32s;\n"]);return l=function(){return n},n}function s(){var n=Object(r.a)(["\n  animation: "," 1.4s infinite ease-in-out both;\n  background-color: ",";\n  border-radius: 100%;\n  display: inline-block;\n  height: 0.75rem;\n  width: 0.75rem;\n"]);return s=function(){return n},n}function f(){var n=Object(r.a)(["\n  0%, 80%, 100% {\n    transform: scale(0);\n  } 40% {\n    transform: scale(1.0);\n  }\n"]);return f=function(){return n},n}var m=Object(c.d)(f()),d=c.b.div(s(),m,i.j),h=Object(c.b)(d)(l()),b=Object(c.b)(d)(u());e.a=function(){return o.a.createElement("div",null,o.a.createElement(h,null),o.a.createElement(b,null),o.a.createElement(d,null))}},92:function(n,e,t){n.exports=t(141)}},[[92,73,67]]]);
//# sourceMappingURL=main.680189ea.chunk.js.map