(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{148:function(e,n,t){"use strict";var r=t(2),a=t(3),i=t(326);function o(){var e=Object(r.a)(["\n  color: inherit;\n  font-size: 0.9rem;\n  text-decoration: underline;\n\n  &:hover {\n    text-decoration: none;\n  }\n"]);return o=function(){return e},e}var l=Object(a.b)(i.a)(o());n.a=l},153:function(e,n,t){"use strict";var r=t(2),a=t(3),i=t(7);function o(){var e=Object(r.a)(["\n  appearance: none;\n  background-color: transparent;\n  background-image: url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 448'%3e%3cpath fill='%23d8dee9' d='M255.9 168c0-4.2-1.6-7.9-4.8-11.2-3.2-3.2-6.9-4.8-11.2-4.8H16c-4.2 0-7.9 1.6-11.2 4.8S0 163.8 0 168c0 4.4 1.6 8.2 4.8 11.4l112 112c3.1 3.1 6.8 4.6 11.2 4.6 4.4 0 8.2-1.5 11.4-4.6l112-112c3-3.2 4.5-7 4.5-11.4z'/%3e%3c/svg%3e\");\n  background-position: right 0.5rem center;\n  background-repeat: no-repeat;\n  background-size: auto 50%;\n  border-radius: 3px;\n  border: 1px solid ",";\n  color: inherit;\n  height: 2.5rem;\n  outline: none;\n  padding: 0 0.5rem;\n  width: 100%;\n\n  &:disabled {\n    opacity: 0.4;\n  }\n"]);return o=function(){return e},e}var l=a.b.select(o(),i.i);n.a=l},163:function(e,n,t){"use strict";var r=t(38),a=t(39),i=t(41),o=t(40),l=t(42),c=t(2),u=t(0),d=t.n(u),s=t(64),b=t.n(s),h=t(3),f=t(7);function v(){var e=Object(c.a)(["\n  background-color: ",";\n  box-shadow: 0 6px 6px -6px rgba(0, 0, 0, 0.4);\n  color: ",";\n  display: flex;\n  justify-content: center;\n  padding: 0.5rem;\n  text-align: center;\n"]);return v=function(){return e},e}var p=h.b.div(v(),f.k,f.b),m=function(e){function n(e){var t;return Object(r.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).el=document.createElement("div"),t.rootEl=document.getElementById("notification-bar-root"),t}return Object(l.a)(n,e),Object(a.a)(n,[{key:"componentDidMount",value:function(){this.rootEl.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.rootEl.removeChild(this.el)}},{key:"render",value:function(){var e=this.props.children;return b.a.createPortal(d.a.createElement(p,null,e),this.el)}}]),n}(d.a.Component);n.a=m},391:function(e,n,t){"use strict";t.r(n);var r=t(59),a=t(67),i=t(38),o=t(39),l=t(41),c=t(40),u=t(42),d=t(2),s=t(19),b=t.n(s),h=t(192),f=t(0),v=t.n(f),p=t(154),m=t(3),g=t(393),E=t(17),y=t(157),w=t(43),C=t(22),O=t(148),j=t(163),x=t(153),k=t(58);function T(){var e=Object(d.a)(["\n  query Warrior($warriorId: UUID!) {\n    warrior(id: $warriorId) {\n      id\n      name\n      tower {\n        name\n      }\n      levelNumber\n      epic\n    }\n  }\n"]);return T=function(){return e},e}var P=t.n(k)()(T()),D=t(7),N=t(21);function A(){var e=Object(d.a)(["\n    height: 2.5rem;\n  "]);return A=function(){return e},e}function L(){var e=Object(d.a)(["\n  background-color: ",";\n  background-image: ",";\n  background-position: 50%;\n  background-repeat: no-repeat;\n  background-size: 0.8rem;\n  border: none;\n  cursor: pointer;\n  height: 1.25rem;\n  line-height: inherit;\n  outline: none;\n  padding: 0;\n  transition: background-color 0.8s ease;\n  width: 100%;\n\n  ",";\n\n  &:hover {\n    background-color: ",";\n    transition: background-color 0.2s ease;\n  }\n\n  &:active {\n    background-color: ",";\n  }\n\n  ",";\n"]);return L=function(){return e},e}function M(){var e=Object(d.a)(["\n  margin-right: 0.25rem;\n"]);return M=function(){return e},e}function I(){var e=Object(d.a)(["\n  height: 3rem;\n  width: 4rem;\n"]);return I=function(){return e},e}function R(){var e=Object(d.a)(["\n  display: inline-block;\n  white-space: pre;\n"]);return R=function(){return e},e}function S(){var e=Object(d.a)(["\n  margin: 0;\n"]);return S=function(){return e},e}function W(){var e=Object(d.a)(["\n  padding: 2rem;\n"]);return W=function(){return e},e}function Y(){var e=Object(d.a)(["\n  overflow: hidden;\n  transform: translate(0);\n"]);return Y=function(){return e},e}var z=b()({loader:function(){return t.e(14).then(t.bind(null,193))},loading:E.a}),q=m.b.div(Y()),B={type:"tween",duration:100},U=p.b.div({enter:{y:"0%",transition:B},exit:{y:"-100%",transition:B}}),F=Object(m.b)(U)(W()),Q=m.b.h1(S()),H=m.b.span(R()),J=Object(m.b)(x.a)(I()),$=m.b.input(M()),G=m.b.button(L(),D.b,function(e){return e.show?"url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15 11l-1.23 1.232L8 6.462l-5.77 5.77L1 11l7-7 7 7z' fill='%23d8dee9'/%3E%3C/svg%3E\")":"url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15 5.232l-7 7-7-7L2.23 4 8 9.77 13.77 4 15 5.232z' fill='%23d8dee9'/%3E%3C/svg%3E\")"},function(e){return e.show?"border-top: 1px solid ".concat(D.c):""},D.c,D.h,Object(N.b)(Object(m.a)(A()))),K=function(e){function n(){var e,t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(c.a)(n)).call.apply(e,[this].concat(a)))).state={showWarrior:!0},t.handleInitialData=function(e){if(0===t.props.levelNumber){if(!e.warrior)return;var n=e.warrior,r=n.levelNumber,a=n.epic;t.props.onLevelChange({levelNumber:r,epic:a})}},t.handleLevelNumberChange=function(e){t.props.onLevelChange({levelNumber:Number.parseInt(e.target.value,10)})},t.handleEpicChange=function(e){t.props.onLevelChange({epic:e.target.checked})},t.toggleWarrior=function(){t.setState(function(e){return{showWarrior:!e.showWarrior}})},t}return Object(u.a)(n,e),Object(o.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.disabled,r=n.epic,a=n.levelNumber,i=n.warriorId,o=this.state.showWarrior;return v.a.createElement(w.Query,{notifyOnNetworkStatusChange:!0,onCompleted:this.handleInitialData,query:P,variables:{warriorId:i}},function(n){var l=n.loading,c=n.error,u=n.data;if(l||c)return v.a.createElement(E.a,{error:c});if(!u.warrior)return v.a.createElement(z,null);var d=u.warrior,s=d.name,b=d.tower.name,h=d.levelNumber,f=d.epic,m=Object(y.a)(Array(h+1).keys()).slice(1);return v.a.createElement(v.a.Fragment,null,v.a.createElement(C.a,null,function(e){return!e.authed&&h>1&&v.a.createElement(j.a,null,v.a.createElement(O.a,{to:"/signup?warriorId=".concat(i)},"Having fun? Sign up to save ",s,"'",s.endsWith("s")?"":"s"," progress \u2013\xa0it's free!"))}),v.a.createElement(q,null,v.a.createElement(p.a,null,o&&v.a.createElement(F,{key:""},v.a.createElement(Q,null,v.a.createElement(H,null,s," - "),v.a.createElement(H,null,b," - "),v.a.createElement(H,null,"Level"," ",v.a.createElement(J,{disabled:t,onChange:e.handleLevelNumberChange,value:a},m.map(function(e){return v.a.createElement("option",{key:e,value:e},e)})))),f&&v.a.createElement("label",null,v.a.createElement($,{checked:r,disabled:t,onChange:e.handleEpicChange,type:"checkbox"}),"Epic mode")))),v.a.createElement(G,{onClick:e.toggleWarrior,show:o}))})}}]),n}(v.a.Component);K.defaultProps={disabled:!1};var V=K;function X(){var e=Object(d.a)(["\n  -webkit-overflow-scrolling: touch;\n  display: flex;\n  flex: 1;\n  overflow-y: auto;\n"]);return X=function(){return e},e}function Z(){var e=Object(d.a)(["\n    font-size: 0.8rem;\n    height: 2.5rem;\n    width: 4.25rem;\n  "]);return Z=function(){return e},e}function _(){var e=Object(d.a)(["\n  background: none;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  font-size: 0.8rem;\n  outline: inherit;\n  padding: 0.5rem;\n  text-transform: uppercase;\n  transition: color 0.2s ease;\n\n  &:disabled {\n    opacity: 0.4;\n  }\n\n  &:hover:enabled {\n    color: ",";\n  }\n\n  ",";\n"]);return _=function(){return e},e}function ee(){var e=Object(d.a)(["\n    justify-content: space-between;\n    padding: 0 2rem;\n\n    & > :first-child {\n      padding-left: 0;\n    }\n  "]);return ee=function(){return e},e}function ne(){var e=Object(d.a)(["\n  display: flex;\n\n  & > :first-child {\n    padding-left: 1rem;\n  }\n\n  ",";\n"]);return ne=function(){return e},e}function te(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n  transform: translate(0);\n"]);return te=function(){return e},e}function re(){var e=Object(d.a)(["\n  border-right: 1px solid ",";\n  flex: 1;\n  overflow: hidden;\n"]);return re=function(){return e},e}function ae(){var e=Object(d.a)(["\n  border-top: 1px solid ",";\n  display: flex;\n  flex: 1;\n  min-height: 0;\n"]);return ae=function(){return e},e}function ie(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return ie=function(){return e},e}var oe={README:"README",CODE:"CODE",PLAY:"PLAY"},le=b()({loader:function(){return t.e(15).then(t.bind(null,386))},loading:E.a}),ce=b()({loader:function(){return Promise.all([t.e(66),t.e(16)]).then(t.bind(null,381))},loading:E.a}),ue=b()({loader:function(){return t.e(17).then(t.bind(null,378))},loading:E.a}),de=m.b.div(ie()),se=m.b.div(ae(),D.c),be=m.b.div(re(),D.c),he=m.b.div(te()),fe=m.b.div(ne(),Object(N.b)(Object(m.a)(ee()))),ve=m.b.button(_(),function(e){return e.active?D.k:"inherit"},D.k,Object(N.b)(Object(m.a)(Z()))),pe={type:"tween",duration:200},me=p.b.div({preEnter:{x:function(e){return"left"===e.enterDirection?"-100%":"100%"},transition:pe},enter:{x:"0%",transition:pe},exit:{x:function(e){return"left"===e.exitDirection?"-100%":"100%"},transition:pe}}),ge=Object(m.b)(me)(X()),Ee=function(e){function n(){var e,t;Object(i.a)(this,n);for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];return(t=Object(l.a)(this,(e=Object(c.a)(n)).call.apply(e,[this].concat(u)))).state={activeTab:oe.README,dirty:!1,epic:!1,levelNumber:0,play:null,playerCodes:{},playing:!1,previousTab:null},t.getPlayerCode=function(){var e=t.state,n=e.epic,r=e.levelNumber;return e.playerCodes[n?"epic":r]},t.getTabEnterDirection=function(){var e=t.state,n=e.activeTab,r=e.previousTab;return n===oe.README?"left":n===oe.PLAY?"right":r===oe.README?"right":"left"},t.getTabExitDirection=function(){var e=t.state,n=e.activeTab,r=e.previousTab;return r===oe.README?"left":r===oe.PLAY?"right":n===oe.README?"right":"left"},t.handleLevelChange=function(e){var n=e.levelNumber,r=e.epic,a={};void 0!==n&&(a.levelNumber=n),void 0!==r&&(a.epic=r),t.setState(a)},t.handlePlayerCodeChange=function(e){t.setState(function(n){var i=n.playerCodes,o=n.epic,l=n.levelNumber,c=o?"epic":l;return{dirty:"undefined"!==typeof t.getPlayerCode(),playerCodes:Object(a.a)({},i,Object(r.a)({},c,e))}})},t.handlePlay=function(e){var n=e.epic,r=e.levelNumber;t.switchToTab(oe.PLAY),t.setState({play:e,dirty:!1,levelNumber:n?1:r,playing:!0})},t.handlePlayEnd=function(e){e&&t.switchToTab(oe.README),t.setState({playing:!1})},t.handleQueryStateChange=function(e){e||t.state.activeTab!==oe.CODE||t.switchToTab(oe.README)},t.handleReadmeTabClick=function(){t.switchToTab(oe.README)},t.handleCodeTabClick=function(){t.switchToTab(oe.CODE)},t.handlePlayTabClick=function(){t.switchToTab(oe.PLAY)},t.switchToTab=function(e){t.setState(function(n){var t=n.activeTab;return{activeTab:e,previousTab:t}})},t.goToNextLevel=function(){t.setState(function(e){return{levelNumber:e.levelNumber+1}})},t.goToEpicMode=function(){t.setState({epic:!0})},t}return Object(u.a)(n,e),Object(o.a)(n,[{key:"render",value:function(){var e=this,n=this.props.match.params.warriorId,t=this.state,r=t.activeTab,a=t.dirty,i=t.epic,o=t.levelNumber,l=t.play,c=t.playing,u=this.getPlayerCode();return v.a.createElement(v.a.Fragment,null,v.a.createElement(g.a,{when:a,message:"You made changes to the code but you haven't run them yet. Are you sure you want to leave this page? If you do so, the changes will be lost."}),v.a.createElement(de,null,v.a.createElement(V,{disabled:c,epic:i,levelNumber:o,onLevelChange:this.handleLevelChange,warriorId:n}),!!o&&v.a.createElement(se,null,v.a.createElement(h.a,{query:N.a},function(t){return!t&&v.a.createElement(be,null,v.a.createElement(ce,{disabled:c,epic:i,levelNumber:o,onPlay:e.handlePlay,onPlayerCodeChange:e.handlePlayerCodeChange,playerCode:u,warriorId:n}))}),v.a.createElement(he,null,v.a.createElement(fe,null,v.a.createElement(ve,{active:r===oe.README,disabled:c,onClick:this.handleReadmeTabClick},"Readme"),v.a.createElement(h.a,{onChange:this.handleQueryStateChange,query:N.a,render:function(){return v.a.createElement(ve,{active:r===oe.CODE,disabled:c,onClick:e.handleCodeTabClick},"Code")}}),v.a.createElement(ve,{active:r===oe.PLAY,onClick:this.handlePlayTabClick},"Play")),v.a.createElement(p.a,{enterDirection:this.getTabEnterDirection(),exitDirection:this.getTabExitDirection(),preEnterPose:"preEnter"},v.a.createElement(ge,{key:r},r===oe.README&&v.a.createElement(le,{epic:i,levelNumber:o,warriorId:n}),r===oe.CODE&&v.a.createElement(ce,{epic:i,levelNumber:o,onPlay:this.handlePlay,onPlayerCodeChange:this.handlePlayerCodeChange,playerCode:u,warriorId:n}),r===oe.PLAY&&v.a.createElement(ue,{epic:i,goToEpicMode:this.goToEpicMode,goToNextLevel:this.goToNextLevel,levelNumber:o,onPlayEnd:this.handlePlayEnd,play:l,playing:c})))))))}}]),n}(v.a.Component);n.default=Ee}}]);
//# sourceMappingURL=warrior-page.6ee2ba1e.chunk.js.map